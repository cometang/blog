---
   title: 搭建koa服务
   author: cometang
   date: 2019-9-18
---

## 创建项目
```node
   npm init -y
```

#### 创建文件-目录结构

![Image text](/koa/koa1.png)



#### 安装koa插件

```node
   # 安装koa
   npm install koa

   # 安装node 热更新插件
    npm install -g  nodemon
```
## 更改package.json的运行命令
```js
 "scripts": {
    "start": "nodemon serve.js"
  },
```

##  完成serve.js代码 后在控制台下运行
```node
   node start
```

```js
const Koa = require("koa");
const app = new Koa();

app.use(async ctx => (ctx.body={msg:'啦啦啦'}));

app.listen(3000,()=>{console.log('koa服务端已启动')});
```

## 浏览器访问localhost:3000

![Image text](/koa/koa101.png)


## 参数更换为：json

在serve.js 原有的代码基础上增加以下代码

```js
const json = require('koa-json');
app.use(json());
```

重启服务后访问localhost:3000 
![Image text](/koa/koa102.png)


